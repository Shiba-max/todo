# TODO

## バグ・コード品質

- [x] **ESLint エラー修正**: `use-todos.ts:33-36` — `useEffect` 内で `setTodos` を同期呼び出ししており `react-hooks/set-state-in-effect` エラーが出る。`useState(() => loadTodos())` のレイジー初期化に書き換える
- [x] **ESLint warning 修正**: テストファイルの未使用変数・インポートを削除
  - `todo-item.test.tsx:239` — 未使用変数 `editInput`
  - `todo-list.test.tsx:1` — 未使用インポート `within`
  - `use-todos.test.ts:2` — 未使用インポート `beforeEach`
- [ ] **未コミットの変更をコミット**: タグ機能・インライン編集・タグフィルターの実装（741行追加）が未コミット

## アクセシビリティ

- [x] **削除ボタンに `aria-label` を追加**: `todo-item.tsx` の削除ボタンにラベルがなく、スクリーンリーダーで内容が伝わらない
- [x] **プログレスバーに WAI-ARIA 属性を追加**: `todo-list.tsx` のプログレスバーに `role="progressbar"`, `aria-valuenow`, `aria-valuemin`, `aria-valuemax` を設定する
- [x] **インライン編集のキーボードアクセス**: ダブルクリックでしか編集モードに入れない。キーボード操作（Enter キーなど）でも編集を開始できるようにする
- [x] **タグフィルターのキーボード操作**: Badge によるタグフィルターがキーボードフォーカスを受け取れない（`<span>` に `onClick`）。`<button>` に変更するか `role="button"` + `tabIndex` を追加する

## 機能追加

- [x] **削除確認ダイアログ**: 誤削除防止のため、削除前に確認UIを表示する
- [x] **一括操作**: 「完了済みをすべて削除」「すべて完了にする」などの一括操作
- [x] **テキスト検索**: TODO のテキストをキーワードで絞り込む検索機能
- [x] **並び替え**: 登録日・完了日・五十音順などでソートする機能
- [x] **ダークモード対応**: CSS に `.dark` テーマ変数は定義済みだが、切り替えUIとコンポーネントのダークモードスタイルが未実装
- [x] **ドラッグ&ドロップ並び替え**: TODO の表示順をドラッグで入れ替える
- [x] **Undo（元に戻す）**: 誤って削除・編集した場合に直前の操作を取り消せるようにする
